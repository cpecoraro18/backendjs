/*! WeakMap shim
 * (The MIT License)
 *
 * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the 'Software'), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute,
 * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included with all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(b,y,v){var r=Object.getOwnPropertyNames,o="object"==typeof window?Object.getOwnPropertyNames(window):[],u=Object.defineProperty,t=Function.prototype.toString,c=Object.create,f=Object.prototype.hasOwnProperty,n=/^\n?function\s?(\w*)?_?\(/;function h(e,t,n){return"function"==typeof t&&(t=d(n=t).replace(/_$/,"")),u(e,t,{configurable:!0,writable:!0,value:n})}function d(e){return"function"!=typeof e?"":"_name"in e?e._name:"name"in e?e.name:t.call(e).match(n)[1]}function w(e,t){return t._name=e,t}var g=function(){var i={value:{writable:!0,value:v}},t=c(null),n=function(){var e=Math.random().toString(36).slice(2);return e in t?n():t[e]=e},a=n();function e(){var r=n(),o={};this.unlock=function(e){var t=function(e){if(f.call(e,a))return e[a];if(!Object.isExtensible(e))throw new TypeError("Object must be extensible");var t=c(null);return u(e,a,{value:t}),t}(e);if(f.call(t,r))return t[r](o);var n=c(null,i);return u(t,r,{value:function(e){if(e===o)return n}}),n}}return h(Object,w("getOwnPropertyNames",function(e){var t,n=Object(e);if(n!==Window.prototype&&"toString"in n&&"[object Window]"===n.toString())try{t=r(e)}catch(e){t=o}else t=r(e);return f.call(e,a)&&t.splice(t.indexOf(a),1),t})),h(e.prototype,w("get",function(e){return this.unlock(e).value})),h(e.prototype,w("set",function(e,t){this.unlock(e).value=t})),e}(),e=function(r){var o=function(e){if(null==e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Invalid WeakMap key")},t=function(e,t){var n=r.unlock(e);if(n.value)throw new TypeError("Object is already a WeakMap");n.value=t},i=function(e){var t=r.unlock(e).value;if(!t)throw new TypeError("WeakMap is not generic");return t},n=function(n,r){null!==r&&"object"==typeof r&&"function"==typeof r.forEach&&r.forEach(function(e,t){e instanceof Array&&2===e.length&&u.call(n,r[t][0],r[t][1])})};function a(e){if(this===b||null==this||this===a.prototype)return new a(e);t(this,new g),n(this,e)}function e(e){o(e);var t=i(this).get(e);return t===y?v:t}function u(e,t){o(e),i(this).set(e,t===v?y:t)}function c(e){return o(e),i(this).get(e)!==v}function f(){return i(this),"[object WeakMap]"}e._name="get",u._name="set",c._name="has",f._name="toString";var l=(""+Object).split("Object"),s=w("toString",function(){return l[0]+d(this)+l[1]});h(s,s);var p={__proto__:[]}instanceof Array?function(e){e.__proto__=s}:function(e){h(e,s)};return p(a),[f,e,u,c,function(e){o(e);var t=i(this),n=t.get(e)!==v;return t.set(e,v),n}].forEach(function(e){h(a.prototype,e),p(e)}),a}(new g),i=Object.create?function(){return Object.create(null)}:function(){return{}};function a(n){var r=new e;return n||(n=i),function(e,t){return t||2===arguments.length?r.set(e,t):(t=r.get(e))===v&&(t=n(e),r.set(e,t)),t}}"undefined"!=typeof module?module.exports=e:"undefined"!=typeof exports?exports.WeakMap=e:"WeakMap"in b||(b.WeakMap=e),e.createStorage=a,b.WeakMap&&(b.WeakMap.createStorage=a)}(function(){return this}()),
/*!
 * Knockout ES5 plugin - https://github.com/SteveSanderson/knockout-es5
 * Copyright (c) Steve Sanderson
 * MIT license
 */
function(t,a){"use strict";var u,s;function o(e,t){if(!e||"object"!=typeof e)throw new Error("When calling ko.track, you must pass an object as the first parameter.");var n;return(n=t)&&"object"==typeof n&&n.constructor===Object?(t.deep=t.deep||!1,t.fields=t.fields||Object.getOwnPropertyNames(e),t.lazy=t.lazy||!1,l(e,t.fields,t)):l(e,t||Object.getOwnPropertyNames(e),{}),e}var r,p,n=/^function\s*([^\s(]+)/;function c(e){return e&&"object"==typeof e&&"Object"===((t=e.constructor).name?t.name:(t.toString().trim().match(n)||[])[1]);var t}function f(e,t,n){var r=u.isObservable(e),o=!r&&Array.isArray(e),i=r?e:o?u.observableArray(e):u.observable(e);return n[t]=function(){return i},(o||r&&"push"in i)&&v(u,i),{configurable:!0,enumerable:!0,get:i,set:u.isWriteableObservable(i)?i:a}}function l(n,e,r){if(e.length){var o=b(n,!0),i={};e.forEach(function(e){if(!(e in o)&&!1!==Object.getOwnPropertyDescriptor(n,e).configurable){var t=n[e];i[e]=(r.lazy?function(e,t,n){if(u.isObservable(e))return f(e,t,n);var r;function o(e,t){return r?t?r(e):r:Array.isArray(e)?(r=u.observableArray(e),v(u,r),r):r=u.observable(e)}return n[t]=function(){return o(e)},{configurable:!0,enumerable:!0,get:function(){return o(e)()},set:function(e){o(e,!0)}}}:f)(t,e,o),r.deep&&c(t)&&l(t,Object.keys(t),r)}}),Object.defineProperties(n,i)}}function b(e,t){r||(r=s());var n=r.get(e);return!n&&t&&(n={},r.set(e,n)),n}function i(e,t){if(r)if(1===arguments.length)r.delete(e);else{var n=b(e,!1);n&&t.forEach(function(e){delete n[e]})}}function y(e,t,n){var r={owner:e,deferEvaluation:!0};if("function"==typeof n)r.read=n;else{if("value"in n)throw new Error('For ko.defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');if("function"!=typeof n.get)throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');r.read=n.get,r.write=n.set}return e[t]=this.computed(r),o.call(this,e,[t]),e}function v(n,r){var o=null;n.computed(function(){o&&(o.dispose(),o=null);var e,t=r();t instanceof Array&&(e=r,o=function(e,t){p||(p=s());var n,r,o,i,a,u,c,f=p.get(t);if(!f){f=new e.subscribable,p.set(t,f);var l={};a=t,u=f,c=l,["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(e){var t=a[e];a[e]=function(){var e=t.apply(this,arguments);return!0!==c.pause&&u.notifySubscribers(this),e}}),n=e,r=t,o=f,i=l,["remove","removeAll","destroy","destroyAll","replace"].forEach(function(t){Object.defineProperty(r,t,{enumerable:!1,value:function(){var e;i.pause=!0;try{e=n.observableArray.fn[t].apply(n.observableArray(r),arguments)}finally{i.pause=!1}return o.notifySubscribers(r),e}})})}return f}(n,t).subscribe(e))})}function h(e,t){if(!e||"object"!=typeof e)return null;var n=b(e,!1);if(n&&t in n)return n[t]();var r=e[t];return u.isObservable(r)?r:null}function d(e,t){if(!e||"object"!=typeof e)return!1;var n=b(e,!1);return!!n&&t in n}function w(e,t){var n=h(e,t);n&&n.valueHasMutated()}function g(e){e.track=o,e.untrack=i,e.getObservable=h,e.valueHasMutated=w,e.defineProperty=y,e.es5={getAllObservablesForObject:b,notifyWhenPresentOrFutureArrayValuesMutate:v,isTracked:d}}!function(){if("object"==typeof exports&&"object"==typeof module){u=require("knockout");var e=t.WeakMap||require("../lib/weakmap");g(u),s=function(){return new e},module.exports=u}else"function"==typeof define&&define.amd?define(["knockout"],function(e){return g(u=e),s=function(){return new t.WeakMap},e}):"ko"in t&&(u=t.ko,g(t.ko),s=function(){return new t.WeakMap})}()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
